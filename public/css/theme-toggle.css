/**** THEME TOGGLE: Comprehensive theming for all components ****/
:root {
  --primary-color: #0badf8;
  --primary-dark: #0892d0;
  --text-color: #333;
  --text-secondary: #666;
  --bg-color: #ffffff;
  --bg-secondary: #f9fafb;
  --card-bg: #ffffff;
  --form-bg: rgba(255,255,255,0.9);
  --border-color: rgba(0,0,0,0.1);
  --border-light: #e5e7eb;
  --shadow-color: rgba(8,7,16,0.2);
  --input-bg: rgba(0,0,0,0.05);
  --input-focus-color: #0badf8;
  --input-shadow: rgba(26, 143, 180, 0.3);
  --table-header-bg: #f3f4f6;
  --table-row-hover: #f9fafb;
}
[data-theme="dark"] {
  --text-color: #f9fafb;
  --text-secondary: #d1d5db;
  --bg-color: #111827;
  --bg-secondary: #1f2937;
  --card-bg: #1f2937;
  --form-bg: rgba(31,41,55,0.8);
  --border-color: rgba(255,255,255,0.1);
  --border-light: #374151;
  --shadow-color: rgba(0,0,0,0.5);
  --input-bg: rgba(255,255,255,0.05);
  --input-focus-color: #60a5fa;
  --input-shadow: rgba(96, 165, 250, 0.3);
  --table-header-bg: #374151;
  --table-row-hover: #374151;
}
[data-theme="dark"] .header,
[data-theme="dark"] .card-gradient,
[data-theme="dark"] .gradient-bg {
  /* Do NOT override gradients on header or cards */
  background: inherit !important;
  background-image: inherit !important;
}
/* Base theming */
body, .content-bg {
  background-color: var(--bg-color);
  color: var(--text-color);
  transition: background 0.3s, color 0.3s;
}

/* Card and container theming */
.bg-white {
  background-color: var(--card-bg) !important;
  color: var(--text-color) !important;
}

/* Completely exclude sidebar navigation from ALL theme background overrides */
nav *, nav *:hover, nav *:focus, nav *:active,
nav .bg-white, nav .hover\:bg-gray-50, nav .hover\:bg-gray-100, nav .hover\:bg-blue-50,
nav .hover\:bg-gray-800, nav .hover\:bg-gray-700, nav .hover\:bg-red-50,
nav .hover\:bg-blue-100, nav .hover\:bg-green-50, nav .hover\:bg-yellow-50,
nav a, nav button, nav span, nav div, nav li, nav ul {
  background-color: transparent !important;
  background: transparent !important;
}

/* Force transparent backgrounds for all sidebar elements */
nav .group, nav .flex, nav .rounded-xl, nav .rounded-lg,
nav .group:hover, nav .flex:hover, nav .rounded-xl:hover, nav .rounded-lg:hover {
  background-color: transparent !important;
  background: transparent !important;
}

/* Remove all hover background effects from sidebar */
nav a:hover, nav button:hover, nav .group:hover, nav li:hover {
  background-color: transparent !important;
  background: transparent !important;
}

/* Ensure sidebar text is always visible */
nav * {
  color: inherit !important;
}

.bg-gray-50 {
  background-color: var(--bg-secondary) !important;
}

.text-gray-900, .text-gray-800, .text-gray-700 {
  color: var(--text-color) !important;
}

.text-gray-600, .text-gray-500 {
  color: var(--text-secondary) !important;
}

/* Border theming */
.border-gray-200, .border-gray-300 {
  border-color: var(--border-light) !important;
}

/* Table theming */
.bg-gray-100, th {
  background-color: var(--table-header-bg) !important;
  color: var(--text-color) !important;
}

tbody tr:hover {
  background-color: var(--table-row-hover) !important;
}

/* Shadow theming */
.shadow, .shadow-sm, .shadow-lg, .shadow-xl {
  box-shadow: 0 1px 3px 0 var(--shadow-color), 0 1px 2px 0 var(--shadow-color) !important;
}
/* Form element theming */
input, textarea, select, .form-bg {
  background-color: var(--input-bg) !important;
  color: var(--text-color) !important;
  border-color: var(--border-light) !important;
  transition: background 0.3s, color 0.3s, border-color 0.3s;
}

input:focus, textarea:focus, select:focus {
  border-color: var(--input-focus-color) !important;
  box-shadow: 0 0 0 3px var(--input-shadow) !important;
}

/* Dropdown and select option styling */
select option {
  background-color: var(--card-bg) !important;
  color: var(--text-color) !important;
  border: none !important;
}

/* For browsers that support it, style the dropdown menu */
select::-webkit-scrollbar {
  width: 8px;
}

select::-webkit-scrollbar-track {
  background: var(--bg-secondary);
}

select::-webkit-scrollbar-thumb {
  background: var(--border-light);
  border-radius: 4px;
}

select::-webkit-scrollbar-thumb:hover {
  background: var(--text-secondary);
}

/* Ensure dropdown text is visible in dark mode */
[data-theme="dark"] select {
  background-color: var(--card-bg) !important;
  color: var(--text-color) !important;
}

[data-theme="dark"] select option {
  background-color: var(--card-bg) !important;
  color: var(--text-color) !important;
}

/* Fix for Alpine.js dropdowns and custom dropdowns */
[data-theme="dark"] .dropdown-menu,
[data-theme="dark"] .select-dropdown,
[data-theme="dark"] [x-show] {
  background-color: var(--card-bg) !important;
  color: var(--text-color) !important;
  border-color: var(--border-light) !important;
}

/* Force styling for all select elements in dark mode */
[data-theme="dark"] select {
  color-scheme: dark !important;
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%23d1d5db' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e") !important;
  background-position: right 0.5rem center !important;
  background-repeat: no-repeat !important;
  background-size: 1.5em 1.5em !important;
  padding-right: 2.5rem !important;
}

/* Additional browser compatibility */
[data-theme="dark"] select::-ms-expand {
  display: none;
}

/* Webkit specific dropdown styling */
[data-theme="dark"] select::-webkit-appearance {
  -webkit-appearance: none;
  appearance: none;
}

/* Mozilla specific dropdown styling */
[data-theme="dark"] select::-moz-appearance {
  -moz-appearance: none;
  appearance: none;
}

/* Button theming (preserve gradients for primary buttons) */
.bg-gray-100, .bg-gray-200 {
  background-color: var(--bg-secondary) !important;
  color: var(--text-color) !important;
}

.hover\:bg-gray-100:hover, .hover\:bg-gray-200:hover {
  background-color: var(--table-row-hover) !important;
}
.card-gradient, .gradient-bg, .header {
  /* These classes should have their own gradient backgrounds and not be affected by theme toggle */
}
/* Theme transition effects */
.theme-transition * {
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease !important;
}

.switch {
  position: relative;
  display: inline-block;
}
.switch input {
  height: 100%;
  width: 100%;
  position: absolute;
  left: 0;
  top: 0;
  opacity: 0;
  z-index: 100;
  cursor: pointer;
}
.switch label {
  height: 24px;
  width: 48px;
  background-color: #39315a;
  border-radius: 24px;
  display: block;
  box-shadow: inset 0 0 8px rgba(0,0,0,0.2), inset 0 0 2px -1px rgba(0,0,0,0.4);
  position: relative;
}
.switch .bulb {
  height: 20px;
  width: 20px;
  background-color: #4a426b;
  border-radius: 50%;
  position: absolute;
  top: 2px;
  left: 2px;
  display: block;
  transition: 0.4s;
  box-shadow: inset 0 0 1px 1px #4a426b, inset 0 0 2px 3px #423963, 0 4px 8px -2px rgba(0,0,0,0.4);
}
.switch .bulb-center {
  position: absolute;
  display: block;
  height: 8px;
  width: 8px;
  background-color: #5a527b;
  border-radius: 50%;
  top: 50%;
  left: 50%;
  transition: 0.4s;
  transform: translate(-50%, -50%);
  box-shadow: inset 0 0 0 2px #635a84;
}
.switch .bulb-center:after {
  content: "";
  display: block;
  height: 3px;
  width: 3px;
  background-color: #7b7394;
  border-radius: 50%;
  position: absolute;
  transition: 0.4s;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  box-shadow: 0 0 1px 2px #524a73;
}
.switch .filament-1, .switch .filament-2 {
  position: absolute;
  display: block;
  height: 8px;
  width: 8px;
  border-radius: 50%;
  top: 50%;
  left: 50%;
  overflow: hidden;
  transform: translate(-50%, -50%) rotate(-45deg);
}
.switch .filament-1:after, .switch .filament-1:before, .switch .filament-2:after, .switch .filament-2:before {
  content: "";
  display: block;
  height: 2px;
  width: 4px;
  border-radius: 50%;
  border: 1px solid #4a426b;
  position: absolute;
  transition: 0.4s;
  top: -1px;
  left: -1px;
  transform: rotate(-10deg);
}
.switch .filament-1:before, .switch .filament-2:before {
  left: 4px;
  transform: rotate(10deg);
}
.switch .filament-2 {
  transform: translate(-50%, -50%) rotate(45deg) !important;
}
.switch .reflections {
  height: 100%;
  width: 100%;
  display: block;
  border-radius: 50%;
  overflow: hidden;
  position: absolute;
  z-index: 90;
  perspective: 20px;
}
.switch .reflections span {
  height: 16px;
  width: 16px;
  border-radius: 50%;
  background-image: linear-gradient(-135deg, transparent 10%, rgba(255,255,255,0.3));
  position: absolute;
  left: -8px;
  bottom: -9px;
}
.switch .reflections span:after {
  content: "";
  display: block;
  height: 7px;
  width: 4px;
  position: absolute;
  top: -7px;
  right: -8px;
  border-radius: 50%;
  box-shadow: 1px -1px 0 -1px rgba(255,255,255,0.4);
  filter: blur(0.5px);
  transform: rotate(-10deg);
}
.switch .reflections:after {
  content: "";
  display: block;
  height: 16px;
  width: 10px;
  background-image: linear-gradient(80deg, rgba(255,255,255,0.05) 45%, rgba(255,255,255,0.5));
  border-radius: 10% 20% 50% 30% / 30% 60% 30% 40%;
  position: absolute;
  transform-style: preserve-3d;
  transform: rotateX(-25deg) rotate(-35deg) skewx(-15deg) translate(2px, -4px);
  top: -2px;
  left: -1px;
}
.switch .reflections:before {
  content: "";
  display: block;
  position: absolute;
  height: 2px;
  width: 6px;
  background-image: linear-gradient(to right, transparent, rgba(255,255,255,0.15));
  bottom: 2px;
  right: 0px;
  transform: rotate(45deg);
}
.switch .sparks .spark1, .switch .sparks .spark2, .switch .sparks .spark3, .switch .sparks .spark4 {
  display: block;
  height: 1px;
  width: 1px;
  background-color: #d1b82b;
  position: absolute;
  border-radius: 50%;
  transition: 0.4s;
  opacity: 0;
}
.switch .sparks .spark1 {
  right: -1px;
  bottom: 5px;
}
.switch .sparks .spark2 {
  right: 4px;
  bottom: 16px;
}
.switch .sparks .spark3 {
  left: 4px;
  bottom: 16px;
}
.switch .sparks .spark4 {
  left: 4px;
  bottom: 4px;
}
.switch input:checked ~ label .bulb {
  left: 26px;
  background-color: #a7694a;
  box-shadow: inset 0 0 1px 1px #a56758, inset 0 0 2px 3px #6b454f, 0 4px 8px -2px rgba(0,0,0,0.4), 0 0 10px 12px rgba(253,184,67,0.1);
}
.switch input:checked ~ label .bulb > .bulb-center {
  background-color: #feed6b;
  box-shadow: inset 0 0 0 2px #fdec6a, 0 0 4px 3px #bca83c, 0 0 8px 5px #a1664a;
}
.switch input:checked ~ label .bulb > .bulb-center:after {
  background-color: #fef401;
  box-shadow: 0 0 1px 2px #fdb843;
}
.switch input:checked ~ label .bulb > .filament-1:before, .switch input:checked ~ label .bulb > .filament-1:after, .switch input:checked ~ label .bulb > .filament-2:before, .switch input:checked ~ label .bulb > .filament-2:after {
  border-color: #fef4d5;
}
.switch input:checked ~ label .bulb > .sparks .spark1 {
  height: 1px;
  width: 1px;
  animation: spark1 2s ease-in-out 0.4s;
}
.switch input:checked ~ label .bulb > .sparks .spark2 {
  height: 1px;
  width: 1px;
  animation: spark2 2.4s ease-in-out 0.4s;
}
.switch input:checked ~ label .bulb > .sparks .spark3 {
  height: 1px;
  width: 1px;
  animation: spark3 2s ease-in-out 0.9s;
}
.switch input:checked ~ label .bulb > .sparks .spark4 {
  height: 1px;
  width: 1px;
  animation: spark4 1.7s ease-in-out 0.9s;
}
@keyframes spark1 {
  0% { right: -1px; height: 1px; width: 1px; opacity: 0; }
  20% { height: 3px; width: 3px; right: 0px; opacity: 1; }
  30% { right: -1px; opacity: 1; height: 3px; width: 3px; }
  70% { height: 3px; width: 3px; }
  100% { right: -26px; bottom: 12px; opacity: 0; }
}
@keyframes spark2 {
  0% { height: 3px; width: 3px; opacity: 0; }
  30% { opacity: 1; }
  100% { right: -4px; bottom: 16px; opacity: 0; }
}
@keyframes spark3 {
  0% { opacity: 0; }
  30% { opacity: 1; height: 2px; width: 2px; }
  100% { left: 0px; bottom: 16px; opacity: 0; height: 3px; width: 3px; }
}
@keyframes spark4 {
  0% { opacity: 0; }
  30% { opacity: 1; height: 2px; width: 2px; }
  100% { left: -4px; bottom: 4px; opacity: 0; height: 3px; width: 3px; }
} 